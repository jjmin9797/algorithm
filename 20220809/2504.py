a = list(input())

def check(b) :
    if b.count('(') == b.count(')') and b.count('[') == b.count(']'):
        return True
    else :
        return False



        
if check(a):
    while ']'and'['and'('and')' in a :
        

    
else :
    print(0)


